(()=>{var o={n:t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return o.d(e,{a:e}),e},d:(t,e)=>{for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o:(o,t)=>Object.prototype.hasOwnProperty.call(o,t)};(()=>{"use strict";const t=flarum.core.compat["forum/app"];var e=o.n(t);const n=flarum.core.compat["common/extend"],r=flarum.core.compat["common/models/Post"];var s=o.n(r);const a=flarum.core.compat["common/models/User"];var c=o.n(a);const i=flarum.core.compat["common/Model"];var d=o.n(i);const p=flarum.core.compat["forum/components/CommentPost"];var u=o.n(p);const l=flarum.core.compat["forum/components/SettingsPage"];var f=o.n(l);const O=flarum.core.compat["common/components/Switch"];var b=o.n(O);function v(o,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,t){return o.__proto__=t,o},v(o,t)}const h=flarum.core.compat["common/Component"];var P=o.n(h);const y=flarum.core.compat["common/components/Tooltip"];var g=o.n(y);const _=flarum.core.compat["common/helpers/icon"];var w=o.n(_),x=function(o){var t,n;function r(){return o.apply(this,arguments)||this}n=o,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,v(t,n);var s=r.prototype;return s.oninit=function(t){o.prototype.oninit.call(this,t)},s.view=function(){var o=this.attrs.post;if(""!==o.postedOn()&&null!==o.postedOn())return m(g(),{text:this.getPostedOn(o)},m("span",{className:"PostedOn"},w()(this.getIcon(o))," ",o.postedOn()))},s.getPostedOn=function(o){return e().translator.trans("datlechin-posted-on.forum.post.posted_on_text",{posted_on:o.postedOn()})},s.getIcon=function(o){switch(o.postedOn()){case"Windows":return"fab fa-windows";case"Ubuntu":return"fab fa-ubuntu";case"Linux":return"fab fa-linux";case"macOS":case"iPhone":case"iPad":return"fab fa-apple";case"Android":return"fab fa-android";case"BlackBerry":return"fab fa-blackberry";case"Mobile":return"fas fa-mobile-alt";default:return"fas fa-globe"}},r}(P());e().initializers.add("datlechin/flarum-posted-on",(function(){s().prototype.postedOn=d().attribute("posted_on"),c().prototype.disclosePostedOn=d().attribute("disclosePostedOn"),(0,n.extend)(u().prototype,"headerItems",(function(o){var t=this.attrs.post,e=t.user();(!e||null!==t.postedOn()&&!1!==e.disclosePostedOn())&&o.add("postedOn",x.component({post:t}))})),(0,n.extend)(f().prototype,"privacyItems",(function(o){var t=this;o.add("disclosePostedOn",m(b(),{state:this.user.disclosePostedOn(),onchange:function(o){t.disclosePostedOnLoading=!0,t.user.save({disclosePostedOn:o}).then((function(){t.disclosePostedOnLoading=!1,m.redraw()}))},loading:this.disclosePostedOnLoading},e().translator.trans("datlechin-posted-on.forum.settings.privacy_disclose_posted_on_label")))}))}))})(),module.exports={}})();
//# sourceMappingURL=forum.js.map